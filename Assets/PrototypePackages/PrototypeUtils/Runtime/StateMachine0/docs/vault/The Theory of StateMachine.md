---
id: 3w68e43evhcrsf9mwf9rs9s
title: The Theory of StateMachine
desc: ''
updated: 1648040493812
created: 1648040493812
---

一个状态机通常分为两个部分。一部分是机器本身，包括一些数据和来自外部的接口方法；另一部分是状态，状态存在的意义在于可以在运行时以不同的方式操作同一个机器。
状态机的功能划分方式有很多很多，但是为了结构的明了，人为的规定，一组状态同一时间只能有一个状态被激活。同层级的多个状态同时存在的功能，则使用多个状态组来实现。
状态拥有的功能，概括的说就是在激活的时候掌管操作一个机器的方式，这些操作有可能是从外部出现的，那就是接口中的行为。也可以是从内部的，也就是一个内部的行为。

当状态机变为多层状态机，情况会变得更加复杂，在泛型上，如何对于状态机进行划分是目前不够清晰。

状态转换，状态转换意味着在同一个状态组里面，一个状态被禁用的同时另外一个状态被激活，状态的起始终结和转换函数都是需要被实现的。这些函数实现后要被一个状态转换的机制所调用。这些函数本质上代表着这个状态自己应该需要做什么，而不是这个机器需要做什么，因此并非和机器的接口行为一致，从外部的调用；而是从机器的内部被调用。
另外机器也要能够被启用和禁用，启用和禁用作为机器的两个预制的状态。

每个层级机器的消息都有一个固定的收听destination, 这个东西在初始状态就能够确定，确定下来之后让绑定更加顺畅，少拆包装包。
